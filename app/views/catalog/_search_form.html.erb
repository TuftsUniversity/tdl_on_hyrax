<%= form_tag search_form_action, method: :get, id: "search-form-header", role: "search" do %>
  <%= render_hash_as_hidden_fields(search_state.params_for_search.except(:q, :search_field, :qt, :page, :utf8)) %>
  <%= hidden_field_tag :search_field, 'all_fields' %>
  <div class="input-group">

    <label class="sr-only" for="search-field-header"><%= t("hyrax.search.form.q.label", application_name: application_name) %></label>
    <%= text_field_tag :q, current_search_parameters , class: "q form-control", id: "search-field-header", placeholder: t("hyrax.search.form.q.placeholder") %>

    <div class="input-group-btn">
      <button type="submit" class="btn btn-primary" id="search-submit-header">
        <%= t('hyrax.search.button.html') %>
      </button>

      <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown">
        <span data-search-element="label"><%= t("tufts.search.option.keyword", application_name: application_name) %></span>
        <span class="caret"></span>
      </button>

      <ul class="dropdown-menu pull-right">
        <li><a class="dropdown-item" href="#" data-search-field="keyword"><%= t('tufts.search.option.keyword') %></a></li>
        <li><a class="dropdown-item" href="#" data-search-field="title"><%= t('tufts.search.option.title') %></a></li>
        <li><a class="dropdown-item" href="#" data-search-field="creator"><%= t('tufts.search.option.creator') %></a></li>
        <li><a class="dropdown-item" href="#" data-search-field="subject"><%= t('tufts.search.option.subject') %></a></li>
      </ul>
    </div><!-- /.input-group-btn -->

  </div><!-- /.input-group -->
<% end %>
